import './polyfills.server.mjs';
import{a as ne}from"./chunk-PCXPNOQX.mjs";import{a as ee}from"./chunk-WBJ6ELOF.mjs";import{a as E,b as H,c as C,d as ie}from"./chunk-BXG467Y3.mjs";import{a as I}from"./chunk-6UY76SPT.mjs";import{a as Z}from"./chunk-3HL35OMC.mjs";import{a as te}from"./chunk-FQWXX67V.mjs";import{a as Y}from"./chunk-P5KBVKKK.mjs";import{a as J,c as K,e as Q,k as X}from"./chunk-T6R2W34F.mjs";import"./chunk-CBYSDMSX.mjs";import{a as q}from"./chunk-PC7GOQG3.mjs";import"./chunk-J4BDXTMW.mjs";import{c as B,d as D}from"./chunk-JLIJJ3UE.mjs";import{l as k}from"./chunk-MIFLSWE4.mjs";import{Db as m,Eb as y,Fb as g,Hb as V,Ib as $,Jb as N,Ka as M,Kb as z,Lb as v,Mb as R,Nb as w,Pa as o,Rb as u,Sb as b,Tb as W,W as d,_ as f,eb as _,gb as p,ia as P,ja as T,kb as j,lb as A,mb as x,nb as S,ob as r,pb as a,qb as l,tb as F,vb as L,wb as c,xc as U,zc as G}from"./chunk-Q4WC6RBB.mjs";import"./chunk-VVCT4QZE.mjs";function le(t,s){t&1&&l(0,"img",8)}function ce(t,s){t&1&&l(0,"img",9)}function me(t,s){t&1&&l(0,"img",10)}function pe(t,s){t&1&&l(0,"img",11)}function de(t,s){t&1&&l(0,"img",12)}var oe=(()=>{class t{constructor(){this.customOptionsMain={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,autoplay:!0,autoplayTimeout:1e3,autoplayHoverPause:!0,rtl:!0,dots:!0,navSpeed:700,navText:[],responsive:{0:{items:1},400:{items:1},740:{items:1},940:{items:1}},nav:!1}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=f({type:t,selectors:[["app-banners"]],standalone:!0,features:[v],decls:14,vars:1,consts:[[1,"mt-5"],[1,"row","g-0"],[1,"col-12","col-md-10"],[3,"options"],["carouselSlide",""],[1,"d-none","d-md-block","col-md-2"],["src","./assets/images/grocery-banner.png","height","200px","alt","grocery-banner",1,"w-100"],["src","./assets/images/grocery-banner-2.jpeg","height","200px","alt","grocery-banner-2",1,"w-100"],["src","./assets/images/slider-image-1.jpeg","height","400px","alt","slider-image-1",1,"w-100"],["src","./assets/images/slider-image-2.jpeg","height","400px","alt","slider-image-2",1,"w-100"],["src","./assets/images/slider-image-3.jpeg","height","400px","alt","slider-image-3",1,"w-100"],["src","./assets/images/slider-2.jpeg","height","400px","alt","slider-image-3",1,"w-100"],["src","./assets/images/banner-4.jpeg","height","400px","alt","slider-image-3",1,"w-100"]],template:function(i,n){i&1&&(r(0,"section",0)(1,"div",1)(2,"div",2)(3,"div")(4,"owl-carousel-o",3),_(5,le,1,0,"ng-template",4)(6,ce,1,0,"ng-template",4)(7,me,1,0,"ng-template",4)(8,pe,1,0,"ng-template",4)(9,de,1,0,"ng-template",4),a()()(),r(10,"div",5)(11,"div"),l(12,"img",6)(13,"img",7),a()()()()),i&2&&(o(4),p("options",n.customOptionsMain))},dependencies:[C,H,E]})}}return t})();var ge=(t,s)=>s._id,he=t=>["/detailscategories",t];function fe(t,s){if(t&1&&(l(0,"img",3),r(1,"h3",4),m(2),a()),t&2){let e=c().$implicit;p("src",e.image,M)("alt",e.name)("routerLink",w(4,he,e._id)),o(2),y(e.name)}}function _e(t,s){t&1&&_(0,fe,3,6,"ng-template",2)}var ae=(()=>{class t{constructor(){this._CategoriesService=d(ne),this.categoriesList=[],this.customOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,autoplay:!0,rtl:!0,autoplayTimeout:1e3,autoplayHoverPause:!0,dots:!0,navSpeed:700,navText:[],responsive:{0:{items:1},400:{items:2},740:{items:3},940:{items:6}},nav:!1}}ngOnInit(){this.catrgories=this._CategoriesService.getAllCategories().subscribe({next:e=>{e.status==200&&(this.categoriesList=e.body.data)}})}ngOnDestroy(){this.catrgories?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=f({type:t,selectors:[["app-popularcategories"]],standalone:!0,features:[v],decls:7,vars:4,consts:[[1,"mt-5"],[3,"options"],["carouselSlide",""],["height","250px",1,"w-100","c-p",3,"src","alt","routerLink"],[1,"h5","text-main","fw-bold","my-2"]],template:function(i,n){i&1&&(r(0,"section",0)(1,"h1"),m(2),u(3,"translate"),a(),r(4,"owl-carousel-o",1),x(5,_e,1,0,null,2,ge),a()()),i&2&&(o(2),g(" ",b(3,2,"owlCategories.Featured Categories")," :"),o(2),p("options",n.customOptions),o(),S(n.categoriesList))},dependencies:[C,H,E,k,D,B]})}}return t})();var ve=(t,s)=>s.id,Ce=t=>["/details",t],xe=()=>[1,2,3,4,5],Se=t=>({width:t});function ye(t,s){if(t&1&&(r(0,"div",11),l(1,"i",16)(2,"i",17),a()),t&2){let e=s.$implicit,i=c().$implicit,n=c();o(2),p("ngStyle",w(1,Se,n.getStarWidth(e,i.ratingsAverage)))}}function we(t,s){if(t&1){let e=F();r(0,"i",18),L("click",function(){P(e);let n=c().$implicit,h=c();return T(h.removeWishlist(n.id))}),a()}}function be(t,s){if(t&1){let e=F();r(0,"i",19),L("click",function(){P(e);let n=c().$implicit,h=c();return T(h.addWishlist(n.id))}),a()}}function Pe(t,s){if(t&1){let e=F();r(0,"div",3)(1,"div",4)(2,"div",5),l(3,"img",6)(4,"hr"),r(5,"h3",7),m(6),a(),r(7,"h4",8),m(8),u(9,"termtext"),a(),r(10,"div",9)(11,"span"),m(12),u(13,"currency"),a(),r(14,"div",10),x(15,ye,3,3,"div",11,A),r(17,"span",12),m(18),a()()()(),r(19,"div",13)(20,"button",14),L("click",function(){let n=P(e).$implicit,h=c();return T(h.addCart(n.id))}),m(21),u(22,"translate"),a(),r(23,"span"),_(24,we,1,0,"i",15)(25,be,1,0),a()()()()}if(t&2){let e=s.$implicit;o(2),p("routerLink",w(17,Ce,e.id)),o(),p("src",e.imageCover,M)("alt",e.category.name),o(3),y(e.category.name),o(2),g(" ",W(9,9,e.title,3)," "),o(4),g(" ",W(13,12,e.price,"GBP"),""),o(3),S(R(19,xe)),o(3),y(e.ratingsAverage),o(3),g(" ",b(22,15,"owlProducts.Add To Cart")," "),o(3),j(24,e.wished?24:25)}}var Ye=(()=>{class t{constructor(){this._ProductsService=d(ie),this._CartService=d(Y),this._ToastrService=d(q),this._WishlistService=d(Z),this._localStorageHandler=d(I),this.productsList=[],this.search=""}ngOnInit(){this.getAllProductsSub=this._ProductsService.getAllProducts().subscribe({next:e=>{e.status==200&&(this.productsList=e.body.data,this.initWishedProducts())}})}initWishedProducts(){(this._localStorageHandler.getItem("wishList")??{localData:[]})!=null&&this.productsList.forEach(i=>{this._localStorageHandler.checkItem("wishList",i.id)?i.wished=!0:i.wished=!1})}getStarWidth(e,i){return i>=e?"100%":i<e&&i>e-1?`${(i-(e-1))*100}%`:"0%"}addCart(e){this.cart=this._CartService.addProductToCart(e).subscribe({next:i=>{i.status==200&&(this._ToastrService.success("Product is added successfully to your Cart"),this._CartService.cartNumber.set(i.body.numOfCartItems))}})}removeWishlist(e){this.wishlist=this._WishlistService.RemoveProductFromWishlist(e).subscribe({next:i=>{i.status==200&&(this._ToastrService.success("Product removed successfully from your wishlist"),this._WishlistService.countWishlist.set(i.body.data.length),this.productsList.find(n=>n.id==e).wished=!1,this._localStorageHandler.removeItem("wishList",e))}})}addWishlist(e){this.wishlistAdd=this._WishlistService.addProductToWishlist(e).subscribe({next:i=>{i.status==200&&(this._ToastrService.success("Product added successfully to your wishlist"),this._WishlistService.countWishlist.set(i.body.data.length),this.productsList.find(n=>n.id==e).wished=!0,this._localStorageHandler.pushItem("wishList",e))}})}ngOnDestroy(){this.getAllProductsSub?.unsubscribe(),this.cart?.unsubscribe(),this.wishlist?.unsubscribe(),this.wishlistAdd?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=f({type:t,selectors:[["app-home"]],standalone:!0,features:[z([I]),v],decls:11,vars:7,consts:[[1,"mt-5"],["id","search-input","type","search","placeholder","Search By Name...","dir","auto",1,"form-control","w-50","mx-auto","my-3",3,"ngModelChange","ngModel"],[1,"row","g-3"],[1,"col-sm-12","col-md-6","col-lg-4","col-xl-3"],[1,"product","p-3","c-p"],[3,"routerLink"],[1,"w-100",3,"src","alt"],[1,"h5","text-main","fw-bold"],[1,"h6","fw-bold"],[1,"d-flex","justify-content-between","align-items-center"],[1,"d-flex","align-items-center"],[1,"star-container"],[1,"ms-1"],[1,"d-flex","justify-content-between","align-items-center","gap-2"],[1,"btn-main","w-100","my-1","rounded-4",3,"click"],[1,"fa-solid","fa-heart","text-danger","fa-2xl"],[1,"fa","fa-star"],[1,"fa","fa-star","filled",3,"ngStyle"],[1,"fa-solid","fa-heart","text-danger","fa-2xl",3,"click"],[1,"fa-regular","fa-heart","text-danger","fa-2xl",3,"click"]],template:function(i,n){i&1&&(l(0,"app-banners")(1,"app-popularcategories"),r(2,"section",0)(3,"h2"),m(4),u(5,"translate"),a(),r(6,"input",1),N("ngModelChange",function(O){return $(n.search,O)||(n.search=O),O}),a(),r(7,"div",2),x(8,Pe,26,20,"div",3,ve),u(10,"search"),a()()),i&2&&(o(4),g("",b(5,2,"owlProducts.Popular Products")," :"),o(2),V("ngModel",n.search),o(2),S(W(10,4,n.productsList.slice(0,20),n.search)))},dependencies:[U,C,k,te,ee,X,J,K,Q,D,B,oe,ae,G],styles:[".star-container[_ngcontent-%COMP%]{position:relative;display:inline-block}.star-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:#ccc}.star-container[_ngcontent-%COMP%]   .filled[_ngcontent-%COMP%]{position:absolute;top:0;left:0;overflow:hidden;color:gold}.form-control[_ngcontent-%COMP%]:focus{box-shadow:5px 5px var(--main-color);border-color:var(--main-color)}[_ngcontent-%COMP%]::placeholder{color:var(--main-color)}@media (max-width: 768px){#search-input[_ngcontent-%COMP%]{width:100%!important}}"]})}}return t})();export{Ye as HomeComponent};
