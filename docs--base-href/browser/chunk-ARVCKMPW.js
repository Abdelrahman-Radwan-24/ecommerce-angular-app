import{a as D}from"./chunk-EKC6G6NT.js";import{a as w}from"./chunk-HFODZOJB.js";import{l as R}from"./chunk-AJYFC62G.js";import{a as $}from"./chunk-OCY5CQ2Q.js";import{a as V}from"./chunk-4WTYT7R5.js";import"./chunk-NI4CGMN2.js";import{h as B}from"./chunk-ZPOAEXIQ.js";import{c as F,d as L}from"./chunk-XBV2T4CO.js";import{Ab as u,Bb as p,Ga as b,Gb as k,Hb as M,La as n,Nb as a,Ob as c,Pb as C,W as m,Z as W,ab as S,cb as y,gb as P,ha as f,ia as v,ib as T,jb as I,kb as s,lb as r,lc as O,mb as x,pb as E,rb as g,sb as h,zb as o}from"./chunk-4CAZKJUL.js";import"./chunk-CWTPBX7D.js";var H=(e,d)=>d.id;function j(e,d){if(e&1){let t=E();s(0,"div",1)(1,"div",2)(2,"div"),x(3,"img",3),r()(),s(4,"div",4)(5,"div",5)(6,"h3",6),o(7),a(8,"termtext"),r(),s(9,"h6",7),o(10),a(11,"currency"),r(),s(12,"span",8),g("click",function(){let l=f(t).$implicit,_=h(2);return v(_.removeItem(l.id))}),x(13,"i",9),o(14),a(15,"translate"),r()(),s(16,"button",10),g("click",function(){let l=f(t).$implicit,_=h(2);return v(_.addCart(l.id))}),o(17),a(18,"translate"),r()()()}if(e&2){let t=d.$implicit;n(3),y("src",t.imageCover,b)("alt",t.title),n(4),u(C(8,6,t.title,2)),n(3),u(C(11,9,t.price,"GBP")),n(4),p(" ",c(15,12,"wish.Remove")," "),n(3),p(" ",c(18,14,"wish.Add to Cart")," ")}}function G(e,d){if(e&1&&T(0,j,19,16,"div",1,H),e&2){let t=h();I(t.getProductWish)}}function U(e,d){e&1&&(s(0,"div",11)(1,"h1",12),o(2),a(3,"translate"),r(),s(4,"button",13),o(5),a(6,"translate"),r()()),e&2&&(n(2),u(c(3,2,"wish.your Wishlist Is Empty")),n(3),p(" ",c(6,4,"wish.Go to Shopping")," "))}var it=(()=>{class e{constructor(){this._WishlistService=m($),this._LocalStorageHandler=m(w),this._CartService=m(V),this._ToastrService=m(R),this.getProductWish=[]}ngOnInit(){this.getWishlist=this._WishlistService.getLoggedUserWishlist().subscribe({next:t=>{t.status==200&&(this.getProductWish=t.body.data)}})}removeItem(t){this.removeWishlist=this._WishlistService.RemoveProductFromWishlist(t).subscribe({next:i=>{i.status==200&&(this.getProductWish=this.getProductWish.filter(l=>l.id!==t),this._WishlistService.countWishlist.set(i.body.data.length),this._LocalStorageHandler.removeItem("wishList",t),this._ToastrService.success("Product removed successfully from your wishlist"))}})}addCart(t){this.addToCart=this._CartService.addProductToCart(t).subscribe({next:i=>{i.status==200&&(this._CartService.cartNumber.set(i.body.numOfCartItems),this._ToastrService.success("Product is added successfully to your Cart"))}})}ngOnDestroy(){this.getWishlist?.unsubscribe(),this.removeWishlist?.unsubscribe(),this.addToCart?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=W({type:e,selectors:[["app-wishlist"]],standalone:!0,features:[k([w]),M],decls:6,vars:4,consts:[[1,"wishlist","w-75","mx-auto","mt-5"],[1,"row","shadow","rounded-4","my-4","p-4","bg-main-light"],[1,"col-lg-1"],[1,"w-100",3,"src","alt"],[1,"details","col-lg-11","mt-3","mt-lg-0","d-flex","justify-content-between","align-items-center"],[1,"Remove"],[1,"h4"],[1,"text-main","fw-bold"],[1,"c-p",3,"click"],[1,"fa-regular","fa-trash-can","text-main"],[1,"btn-main","rounded-4",3,"click"],[1,"text-center","text-main","d-flex","flex-column","gap-5","my-4","py-5"],[1,"fw-bold"],["routerLink","/home",1,"btn-main","w-100","rounded-4"]],template:function(i,l){i&1&&(s(0,"section",0)(1,"h1"),o(2),a(3,"translate"),r(),S(4,G,2,0)(5,U,7,6),r()),i&2&&(n(2),p("",c(3,2,"wish.Wishlist")," :"),n(2),P(4,l.getProductWish.length!==0?4:5))},dependencies:[D,L,F,B,O],styles:["@media (max-width: 500px){.wishlist[_ngcontent-%COMP%]{width:100%!important}.details[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%!important}.details[_ngcontent-%COMP%]   .Remove[_ngcontent-%COMP%]{width:100%}.details[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:5px;width:100%!important}}"]})}}return e})();export{it as WishlistComponent};
